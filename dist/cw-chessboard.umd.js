(function(E,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(E=typeof globalThis<"u"?globalThis:E||self,e(E["cw-chessboard"]={},E.Vue))})(this,function(E,e){"use strict";var Te=Object.defineProperty;var Ae=(E,e,L)=>e in E?Te(E,e,{enumerable:!0,configurable:!0,writable:!0,value:L}):E[e]=L;var ne=(E,e,L)=>(Ae(E,typeof e!="symbol"?e+"":e,L),L);var L=(o=>(o.NONE="none",o.FRAME="marker-frame",o.CIRCLE="marker-circle",o.DOT="marker-dot",o.SQUARE="marker-square",o.ARROW="arrow",o.TEXT="marker-text",o))(L||{});const ie=e.defineComponent({__name:"ChessboardCoords",props:{orientation:{},coordMode:{},borderScale:{},coordOutside:{type:Boolean}},setup(o){const n=o,l=e.computed(()=>n.coordMode!=="none"),t=e.computed(()=>n.coordMode==="right");return(c,s)=>l.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"chessboard-coords",style:e.normalizeStyle({margin:c.borderScale})},[e.createElementVNode("div",{class:e.normalizeClass(["coords numbers",{outside:c.coordOutside,"coords-right":t.value}])},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(8,a=>e.createElementVNode("span",{class:e.normalizeClass(["coord",a%2!==(t.value?1:0)?"white":"black"])},[e.createElementVNode("span",null,e.toDisplayString(c.orientation==="w"?9-a:a),1)],2)),64))],2),e.createElementVNode("div",{class:e.normalizeClass(["coords letters",{outside:c.coordOutside,"coords-right":t.value}])},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(8,a=>e.createElementVNode("span",{class:e.normalizeClass(["coord",a%2===0?"white":"black"])},[e.createElementVNode("span",null,e.toDisplayString(String.fromCharCode(c.orientation==="w"?a+96:105-a)),1)],2)),64))],2)],4)):e.createCommentVNode("",!0)}});function ce(o,n){const l=e.ref(0);let t;function c(){const a=e.toValue(n);a&&(t&&clearTimeout(t),t=setTimeout(()=>{const C=e.toValue(o);if(!C)return console.warn("cw-chessboard: no element provided for rescale");const{height:r,width:u}=C.getBoundingClientRect();if(a==="width"){l.value=u;return}else if(a==="height"){l.value=r;return}l.value=u<r?u:r,u===0?l.value=r:r===0&&(l.value=u)},10))}let s;return e.onMounted(()=>{if(window.ResizeObserver){const a=new ResizeObserver(c);a.observe(e.toValue(o)),s=()=>a.disconnect()}else window.addEventListener("resize",c),s=()=>window.removeEventListener("resize",c);c()}),e.onUnmounted(()=>s==null?void 0:s()),{size:l,Rescale:c}}const de=o=>{const n=[],l=o.split(" ")[0].split("/");if(l.length!==8)throw new Error("Invalid fen string");for(let t=0;t<8;t++){let c=0;for(let s=0;s<l[t].length;s++){const a=l[t][s];c=parseInt(a),Number.isNaN(c)?n.push(a):n.push(...Array(c).fill(null))}}return n},I=o=>({x:o%8,y:Math.floor(o/8)}),te=({x:o,y:n})=>8*n+o,T=({x:o,y:n},l)=>l==="b"?{x:7-o,y:7-n}:{x:o,y:n},re=({x:o,y:n},{height:l,width:t})=>({x:Math.floor(o/(t/8)),y:Math.floor(n/(l/8))}),W=(o,n,l)=>T(re(o,l),n),B=({x:o,y:n})=>String.fromCharCode(o+97)+(8-n).toString(),K=o=>({x:o.charCodeAt(0)-97,y:8-parseInt(o[1])}),oe=({x:o,y:n},l)=>o===l.x&&n===l.y,G=({x:o,y:n})=>o>-1&&o<8&&n>-1&&n<8,se=({x:o,y:n})=>({x:o*128,y:n*128}),ae=({x:o,y:n})=>({x:o+64,y:n+64});class ue{constructor(){ne(this,"isRunning");ne(this,"tasks");this.isRunning=!1,this.tasks=[]}get IsRunning(){return this.isRunning}get Size(){return this.tasks.length}addTask(n){return new Promise((l,t)=>{this.tasks.push(()=>n().then(l).catch(t)),this.run()})}async run(){if(!this.isRunning){for(this.isRunning=!0;this.tasks.length;)await this.tasks.shift()();this.isRunning=!1}}clear(){this.tasks.length=0,this.isRunning=!1}}function fe(o,n){const l=o%8,t=Math.floor(o/8),c=n%8,s=Math.floor(n/8);return Math.max(Math.abs(s-t),Math.abs(c-l))}const pe=(o,n)=>{const l=[],t=[];for(let s=0;s<64;s++){const a=o[s],C=n[s];C!==a&&(C&&l.push({piece:C,index:s}),a&&t.push({piece:a,index:s}))}const c=[];return l.forEach(s=>{let a=8,C=null;if(t.forEach(r=>{if(s.piece!==r.piece)return;const u=fe(s.index,r.index);u<a&&(C=r,a=u)}),C==null){c.push({type:0,piece:s.piece,atIndex:s.index});return}t.splice(t.indexOf(C),1),c.push({type:2,piece:s.piece,atIndex:C.index,toIndex:s.index})}),c.push(...t.map(({piece:s,index:a})=>({type:1,piece:s,atIndex:a}))),c};function me({onOrientationChange:o,onChange:n,onRenderPiece:l}){let t=null,c="",s=200,a="w",C=!1,r=[],u="all";const P=f=>{const S=r[f];if(!S)return null;const y=S.toLowerCase();return{name:y,color:y===S?"b":"w"}},_=f=>P(te(f));function N(f,S,y){const m=document.createElement("piece"),k=T(f,y),h=S.toLowerCase(),g=h===S?"b":"w",M=g+h,A=B(f);m.setAttribute("data-square",A),m.setAttribute("data-piece",M),m.setAttribute("data-color",g),m.classList.add("piece",M),m.style.transform=`translate3d(${k.x*100}%,${k.y*100}%,0px)`,m.style.zIndex="5",m.style.opacity="1",m.style.display=u==="all"||u===g?"block":"none";const F=l==null?void 0:l(A,S,g);return F&&m.classList.add(F),m}function b(f,S){const y=S.toLowerCase(),m=B(f),k=(y===S?"b":"w")+y;return t==null?void 0:t.querySelector(`[data-piece="${k}"][data-square="${m}"]`)}function $(f,S,y){const m=b(f,S);m?m.style.opacity=y?C?"0.5":"0":"1":console.warn("Invalid value for square piece: ",B(f),S,y?"on":"off")}let R=!1;function q(f,S,y=!1){if(!t)return console.warn("container is null");if(!(R&&!y)){t.innerHTML="";for(let m=0;m<f.length;m++){const k=f[m];k&&t.appendChild(N(I(m),k,S))}r=f,R=!0}}function Y(f,S,y){const m=pe(f,S),k=[];return m.forEach(h=>{const g=I(h.atIndex);switch(h.type){case 2:{const j=b(g,h.piece);if(!j)return;t.appendChild(j);const J=T(I(h.atIndex),y),v=T(I(h.toIndex),y);k.push({type:h.type,element:j,atPoint:{x:J.x*100,y:J.y*100},toPoint:{x:v.x*100,y:v.y*100}});break}case 0:const M=N(g,h.piece,y);M.style.opacity="0",M.style.display="block",t.appendChild(M);const A=T(I(h.atIndex),y);k.push({type:h.type,element:M,atPoint:{x:A.x*100,y:A.y*100}});break;case 1:const F=b(g,h.piece);if(!F)return;k.push({type:h.type,element:F});break}}),n&&n(m.map(({piece:h,type:g,atIndex:M,toIndex:A})=>g===2?{piece:h,from:B(I(M)),to:B(I(A))}:{piece:h,from:B(I(M))})),k}const w=new ue;function i(f,S,y,m){return new Promise(k=>{var F;if(((F=document.hasFocus)==null?void 0:F.call(document))===!1||!t)return k();const h=Y(f,S,m);let g=null,M;function A(j){if(!w.IsRunning||document.hidden)return k();R=!1,M||(M=j);const J=j-M;if(J>y){g&&(cancelAnimationFrame(g),g=null);for(const z of h)z.element.style.zIndex="5",z.type===1&&z.element.parentNode&&t.removeChild(z.element);k();return}g=requestAnimationFrame(A);const v=Math.min(1,J/y);let X=v<.5?2*v*v:-1+(4-2*v)*v;(isNaN(X)||X>.99)&&(X=1),h.forEach(z=>{switch(z.element.style.zIndex="15",z.type){case 2:{const Ne=z.atPoint.x+(z.toPoint.x-z.atPoint.x)*X,Ve=z.atPoint.y+(z.toPoint.y-z.atPoint.y)*X;z.element.style.transform=`translate3d(${Ne}%,${Ve}%,0px)`;break}case 0:z.element.style.opacity=(Math.round(X*100)/100).toString();break;case 1:z.element.style.opacity=(Math.round((1-X)*100)/100).toString();break}})}g=requestAnimationFrame(A)})}function d(){w.clear()}function p(f){t=f}async function x(f,S,y=!1){const m=new Array(...r),k=te(f);if(!m[k])return console.warn("no piece on",B(f));const h=te(S);m[h]=m[k],m[k]=null;let g=y?s:0;return w.Size>0&&(g=g/(1+Math.pow(w.Size/5,2))),w.addTask(()=>i(new Array(...r),m,g,a)).then(()=>q(m,a,!0))}async function V(f,S=!1){if(f===c)return;c=f;const y=de(c);let m=S?s:0;return w.Size>0&&(m=m/(1+Math.pow(w.Size/5,2))),w.addTask(()=>i([...r],y,m,a).then(()=>q(y,a,!0)))}async function H(f,S=!1){if(f===a)return;a=f;let y=S?s:0;w.Size>0&&(y=y/(1+Math.pow(w.Size/5,2)));const m=w.addTask(()=>i(new Array(...r),[],y,a)),k=w.addTask(()=>i([],new Array(...r),y,a).then(()=>q(r,a,!0)));return Promise.all([m.then(()=>o==null?void 0:o(a)),k])}function D(f){s=f}function O(f){C=f}async function U(f,S=!1){if(u===f)return;let y=S?s:0;w.Size>0&&(y=y/(1+Math.pow(w.Size/5,2)));let m=u==="none"?new Array(64).fill(null):[...r],k;return f==="all"?(m=new Array(64).fill(null),k=[...r]):f==="none"?k=new Array(64).fill(null):f==="w"?k=r.map(h=>(h==null?void 0:h.toUpperCase())===h?h:null):f==="b"&&(k=r.map(h=>(h==null?void 0:h.toLowerCase())===h?h:null)),u=f,w.addTask(()=>i(m,k,y,a).then(()=>q(r,a,!0)))}return{getPieceByIndex:P,getPieceByPoint:_,movePiece:x,setAlphaPiece:$,setFen:V,setDuration:D,setOrientation:H,setIsAlphaPiece:O,setContainer:p,setVisibility:U,terminate:d}}function he(o){return[t=>e.provide(o,t),()=>{const t=e.inject(o);if(t===void 0)throw new Error(`Provider "${o}" not found.`);return t}]}const[ye,ee]=he("chessboard-context"),Ce=e.defineComponent({__name:"Chessboard",props:{fen:{},orientation:{default:"w"},duration:{default:300},borderSize:{default:12},roundSize:{default:0},fontSize:{default:24},coordOutside:{type:Boolean},coordMode:{default:"left"},alphaPiece:{type:Boolean},boardSet:{default:"default"},pieceSet:{default:"default"},pieceWhiteSet:{},pieceBlackSet:{},resize:{type:[Boolean,String],default:!0},visibility:{default:"all"},onRenderPiece:{}},emits:["ready","moves"],setup(o,{expose:n,emit:l}){const t=o,c=l,s=e.ref(),a=()=>s.value,C=e.ref(),{size:r,Rescale:u}=ce(e.computed(()=>s.value.parentElement),e.toRef(t,"resize")),P=e.computed(()=>r.value/900),_=e.computed(()=>t.fontSize*P.value),N=e.computed(()=>_.value/1.5<t.borderSize),b=e.computed(()=>!t.coordOutside||N.value?`${(t.borderSize*P.value).toFixed(2)}px`:`${((N.value?t.borderSize:t.fontSize/1.5)*P.value).toFixed(2)}px`),$=e.computed(()=>`${t.roundSize*P.value}px`),R=e.computed(()=>({borderRadius:$.value,borderWidth:b.value,...N.value?{}:{borderColor:"transparent",backgroundColor:"transparent"}})),q=e.computed(()=>`${r.value}px`),Y=e.computed(()=>`${_.value.toFixed(3)}px`),w=e.ref(t.orientation),i=e.ref(null),d=me({onChange(p){c("moves",p)},onOrientationChange(p){w.value=p},onRenderPiece:t.onRenderPiece});return e.watch(t,async({fen:p,orientation:x,alphaPiece:V,duration:H,visibility:D})=>{p&&d.setFen(p,!0),d.setOrientation(x,!0),d.setVisibility(D,!0),d.setIsAlphaPiece(V),d.setDuration(H)},{deep:!0}),ye({container:s,chessboard:C,orientation:w,pieces:d,boardSet:e.toRef(t,"boardSet"),pieceSet:e.toRef(t,"pieceSet")}),e.onMounted(()=>{d.setContainer(i.value),d.setDuration(t.duration),t.fen&&d.setFen(t.fen),d.setOrientation(t.orientation),d.setVisibility(t.visibility),d.setIsAlphaPiece(t.alphaPiece),c("ready",d)}),n({getElement:a,boardSize:r,Rescale:u,pieces:d}),(p,x)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"container",ref:s,class:e.normalizeClass(["cw-chessboard chessboard-theme",p.boardSet]),style:e.normalizeStyle({width:q.value,height:q.value,fontSize:Y.value})},[e.renderSlot(p.$slots,"before"),e.createElementVNode("div",{class:"cw-wrapper",style:e.normalizeStyle(R.value)},[e.createElementVNode("div",{ref_key:"chessboard",ref:C,class:e.normalizeClass(["cw-container",{outside:p.coordOutside,contour:p.borderSize>0}]),style:e.normalizeStyle({borderRadius:$.value})},[e.renderSlot(p.$slots,"default"),e.createElementVNode("div",{ref_key:"piecesContainer",ref:i,class:e.normalizeClass(["pieces",p.pieceSet])},null,2)],6)],4),e.createVNode(ie,{borderScale:b.value,coordMode:p.coordMode,orientation:p.orientation,coordOutside:p.coordOutside},null,8,["borderScale","coordMode","orientation","coordOutside"]),e.renderSlot(p.$slots,"after")],6))}}),Se={key:0,class:"promotion-dialog"},ke=["onPointerdown","innerHTML"],be=e.defineComponent({__name:"PromotionDialog",props:{color:{}},setup(o,{expose:n}){const l=o,{orientation:t,pieceSet:c}=ee(),s=e.computed(()=>l.color||t.value),a=e.ref();let C,r;return n({require:_=>new Promise((N,b)=>{if(a.value)return r();a.value=T(K(_),t.value),C=$=>{a.value=null,N($)},r=b}),abort:()=>{a.value=null,r()}}),(_,N)=>(e.openBlock(),e.createBlock(e.Transition,{name:"promotion-dialog"},{default:e.withCtx(()=>[a.value?(e.openBlock(),e.createElementBlock("div",Se,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(["q","r","b","n"],(b,$)=>e.createElementVNode("button",{key:$,class:e.normalizeClass(["promotion-piece",e.unref(c)]),style:e.normalizeStyle({transform:`translate(${a.value.x*100}%, ${$*100}%)`}),onPointerdown:e.withModifiers(R=>e.unref(C)(b),["stop"]),innerHTML:`<piece class="${s.value}${b}"></piece>`},null,46,ke)),64))])):e.createCommentVNode("",!0)]),_:1}))}});function Q(o,{x:n,y:l}){const t=o.getBoundingClientRect();return{x:n-t.left,y:l-t.top,width:t.width,height:t.height}}function we({el:o,onStart:n,onMove:l,onEnd:t,onCancel:c}){const s=u=>{if(u.preventDefault(),!u.isPrimary)return;const P=Q(e.toValue(o),u);n(P)&&(document.addEventListener("pointermove",a,{capture:!0}),document.addEventListener("pointerup",C,{capture:!0}),document.addEventListener("pointercancel",r,{capture:!0}))},a=u=>{const P=Q(e.toValue(o),u);l(P)},C=u=>{document.removeEventListener("pointermove",a,{capture:!0}),document.removeEventListener("pointerup",C,{capture:!0}),document.removeEventListener("pointercancel",r,{capture:!0});const P=Q(e.toValue(o),u);t(P)},r=u=>{document.removeEventListener("pointermove",a,{capture:!0}),document.removeEventListener("pointerup",C,{capture:!0}),document.removeEventListener("pointercancel",r,{capture:!0}),c()};return e.onMounted(()=>{const u=e.toValue(o);if(!u)return console.warn("Element not found");u.style.touchAction="none",u.addEventListener("pointerdown",s)}),e.onBeforeUnmount(()=>{const u=e.toValue(o);if(!u)return console.warn("Element not found");u.style.touchAction="auto",u.removeEventListener("pointerdown",s)}),{}}const ge=["innerHTML"],le=32,Ee=e.defineComponent({__name:"ChessboardControl",props:{mode:{default:"auto"},enableColor:{default:"all"},alignPiece:{type:Boolean}},emits:["beforeMove","afterMove","cancelMove","enterSquare","leaveSquare","dropMove","dropEnd"],setup(o,{emit:n}){const l=o,t=n,{chessboard:c,pieces:s,pieceSet:a,orientation:C}=ee();let r=null;const u=e.ref(null),P=i=>l.enableColor==="all"||l.enableColor===i;let _=null;const N=i=>{_&&oe(_,i)||(_&&t("leaveSquare",B(_)),t("enterSquare",B(i)),_=i)};let b=!1;const $=()=>l.mode==="auto"?!1:l.mode==="press"&&b||l.mode==="move"&&!b;function R(i,d){s.setAlphaPiece(i,i.color==="w"?i.name.toUpperCase():i.name,d)}function q(i,d=!0){d&&t("cancelMove",B(i)),R(i,!1),u.value=null,_=null,r=null}we({el:c,onStart:i=>{b=!1;const d=W(i,C.value,i);if(!G(d))return!1;if(r&&oe(r,d))return q(r),!1;const p=s.getPieceByPoint(d);return!p||!P(p.color)||t("beforeMove",B(d),x=>{x&&(r={x:d.x,y:d.y,name:p.name,color:p.color},N(W(i,C.value,i)))}),!0},onMove:i=>{if(!r)return;const d=i.width/8,p=i.height/8,x=i.x-d/2,V=i.y-p/2,H=b;if(!b){const O=r.x*d,U=r.y*p,f=Math.abs(x-O),S=Math.abs(V-U);b=f>le||S>le,H!==b&&R(r,b)}if(b&&!$())u.value={name:r.name,color:r.color,x,y:V};else{const{x:O,y:U}=T(r,C.value),f=O*d,S=U*p;u.value={name:r.name,color:r.color,x:f,y:S}}if($())return;if(l.alignPiece&&u.value){const O=re(i,i),U=O.x*d,f=O.y*p;u.value.x=U,u.value.y=f}const D=W(i,C.value,i);G(D)&&N(D)},onEnd:i=>{if($()){r&&q(r);return}const d=W(i,C.value,i);if(!G(d)){console.log("Invalid square",r),r&&q(r);return}if(u.value=null,b&&r&&oe(r,d)){q(r);return}const p=s.getPieceByPoint(d);!r||p&&p.color===r.color&&!b||t("afterMove",B(r),B(d),async x=>{if(!r)return console.warn("Cannot move from square ");const V=r;q(V,!x),x&&await s.movePiece(V,d,!b)})},onCancel:()=>{r&&q(r,!0)}});function Y(i){var D;const d=i.currentTarget,p=(D=i.dataTransfer)==null?void 0:D.getData("text/plain");if(!(p!=null&&p.includes("piece ")))return;const x=Q(d,i),V=W(x,C.value,x);if(!G(V))return;const H=p.split(" ")[1];t("dropEnd",H,B(V))}function w(i){i.preventDefault();const d=i.currentTarget,p=Q(d,i),x=W(p,C.value,p);G(x)&&t("dropMove",B(x))}return e.onMounted(()=>{var i,d;(i=c.value)==null||i.addEventListener("drop",Y),(d=c.value)==null||d.addEventListener("dragover",w)}),e.onBeforeUnmount(()=>{var i,d;(i=c.value)==null||i.removeEventListener("drop",Y),(d=c.value)==null||d.removeEventListener("dragover",w)}),(i,d)=>u.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["pieces move-field",e.unref(a)]),innerHTML:`<piece class="active ${u.value.color}${u.value.name}" style="transform: translate3d(${u.value.x}px, ${u.value.y}px,0px);z-index: 100"></piece>`},null,10,ge)):e.createCommentVNode("",!0)}}),xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",version:"1.1",class:"marker-arrow"},Pe=["id"],ze={id:"strict-marker-arrow",transform:"matrix(5.1931792,0,0,5.1931792,3.5980168,-0.83225447)"},Be=["x1","y1","x2","y2","marker-end","stroke-width"],_e=e.defineComponent({__name:"ChessboardArrow",props:{square:{},toSquare:{},color:{},size:{}},setup(o){const n=o,l=e.computed(()=>`arrow-${n.color}-${n.size}`),{orientation:t}=ee(),c=e.computed(()=>ae(se(T(K(n.square),t.value)))),s=e.computed(()=>ae(se(T(K(n.toSquare),t.value))));return(a,C)=>(e.openBlock(),e.createElementBlock("svg",xe,[e.createElementVNode("defs",null,[e.createElementVNode("marker",{id:l.value,class:"arrow-head",refX:"19",refY:"20",markerHeight:"5",markerWidth:"5",viewBox:"0 0 40 40",orient:"auto"},[e.createElementVNode("g",ze,[e.createElementVNode("path",{d:"M 0.535156,0.398438 C 0.398438,0.507812 0.316406,0.671875 0.3125,0.847656 0.316406,1.02344 0.398438,1.1875 0.535156,1.29688 L 3.01172,3.35938 3.72266,4.01563 3.01172,4.64453 0.535156,6.67969 C 0.394531,6.79297 0.3125,6.96094 0.3125,7.13672 c 0,0.17578 0.082031,0.34375 0.222656,0.45703 0.328125,0.25781 0.792974,0.25781 1.117184,0 L 5.45703,4.46094 C 5.59766,4.34766 5.68359,4.17969 5.69141,4 5.69141,3.82031 5.60547,3.65234 5.45703,3.54297 L 1.64453,0.394531 C 1.31641,0.148438 0.859375,0.148438 0.535156,0.398438 Z m 0,0",stroke:"none","stroke-width":"0",class:e.normalizeClass(a.color)},null,2)])],8,Pe)]),e.createElementVNode("line",{class:e.normalizeClass(["arrow-line",a.color]),x1:c.value.x,y1:c.value.y,x2:s.value.x,y2:s.value.y,"marker-end":`url(#${l.value})`,stroke:"currentColor","stroke-width":a.size*1.5,"stroke-linecap":"round"},null,10,Be)]))}}),Z=e.defineComponent({__name:"ChessboardSquare",props:{square:{},above:{type:Boolean}},setup(o){const n=o,{orientation:l}=ee(),t=e.computed(()=>{const{x:c,y:s}=T(K(n.square),l.value);return`transform: translate(${c*100}%, ${s*100}%);`});return(c,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["cw-chessboard-square",{above:c.above}]),style:e.normalizeStyle(t.value)},[e.renderSlot(c.$slots,"default")],6))}}),qe={class:"markers"},Me=[e.createElementVNode("g",{id:"strict-marker-frame",transform:"translate(2, 2)",fill:"#000000","fill-opacity":"0","stroke-width":"2"},[e.createElementVNode("path",{d:"M2.66453526e-15,10.5882353 L2.66453526e-15,2.11764706 C2.66453526e-15,1.41176471 0.176470588,0.882352941 0.529411765,0.529411765 C0.882352941,0.176470588 1.41176471,-2.84217094e-14 2.11764706,-2.84217094e-14 L10.5882353,-2.84217094e-14",id:"Path"}),e.createElementVNode("path",{d:"M25.4117647,36 L25.4117647,27.5294118 C25.4117647,26.8235294 25.5882353,26.2941176 25.9411765,25.9411765 C26.2941176,25.5882353 26.8235294,25.4117647 27.5294118,25.4117647 L36,25.4117647",id:"Path",transform:"translate(30.705882, 30.705882) rotate(-180.000000) translate(-30.705882, -30.705882) "}),e.createElementVNode("path",{d:"M0,36 L0,27.5294118 C0,26.8235294 0.176470588,26.2941176 0.529411765,25.9411765 C0.882352941,25.5882353 1.41176471,25.4117647 2.11764706,25.4117647 L10.5882353,25.4117647",id:"Path",transform:"translate(5.294118, 30.705882) rotate(-90.000000) translate(-5.294118, -30.705882) "}),e.createElementVNode("path",{d:"M25.4117647,10.5882353 L25.4117647,2.11764706 C25.4117647,1.41176471 25.5882353,0.882352941 25.9411765,0.529411765 C26.2941176,0.176470588 26.8235294,0 27.5294118,0 L36,0",id:"Path",transform:"translate(30.705882, 5.294118) rotate(-270.000000) translate(-30.705882, -5.294118) "})],-1)],Le=e.defineComponent({__name:"ChessboardMarkers",props:{markers:{}},setup(o){return(n,l)=>(e.openBlock(),e.createElementBlock("div",qe,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.markers,(t,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:c},[t.type===e.unref(L).DOT?(e.openBlock(),e.createBlock(Z,{key:0,class:"marker",square:t.square},{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["marker-dot",t.color||"default"])},null,2)]),_:2},1032,["square"])):t.type===e.unref(L).FRAME?(e.openBlock(),e.createBlock(Z,{key:1,class:"marker",square:t.square},{default:e.withCtx(()=>[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",class:e.normalizeClass(["marker-frame",t.color||"default"]),viewBox:"0 0 40 40",version:"1.1"},Me,2))]),_:2},1032,["square"])):t.type===e.unref(L).CIRCLE?(e.openBlock(),e.createBlock(Z,{key:2,class:"marker",square:t.square},{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["marker-circle",t.color||"default"])},null,2)]),_:2},1032,["square"])):t.type===e.unref(L).SQUARE?(e.openBlock(),e.createBlock(Z,{key:3,class:"marker",square:t.square},{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["marker-square",t.color||"default"])},null,2)]),_:2},1032,["square"])):t.type===e.unref(L).ARROW?(e.openBlock(),e.createBlock(_e,{key:4,class:"marker",square:t.square,toSquare:t.toSquare,color:t.color||"default",size:t.size||7},null,8,["square","toSquare","color","size"])):e.createCommentVNode("",!0)],64))),128))]))}}),$e=e.defineComponent({__name:"ChessboardPiece",props:{piece:{},pieceSet:{default:"default"},draggable:{type:Boolean}},setup(o){const n=o,l=e.computed(()=>(n.piece.toUpperCase()===n.piece?"w":"b")+n.piece.toLowerCase()),t=()=>e.h("div",{class:"pieces "+n.pieceSet,draggable:n.draggable,onDragstart:c=>{var s;if(n.draggable)return console.log("dragstart"),(s=c.dataTransfer)==null||s.setData("text/plain","piece "+l.value),!0}},e.h("piece",{class:l.value,style:"display: block; width: 100%; height: 100%",dragable:n.draggable}));return(c,s)=>(e.openBlock(),e.createBlock(t))}});E.Chessboard=Ce,E.ChessboardControl=Ee,E.ChessboardMarkers=Le,E.ChessboardPiece=$e,E.ChessboardSquare=Z,E.MARKER=L,E.PromotionDialog=be,Object.defineProperty(E,Symbol.toStringTag,{value:"Module"})});
